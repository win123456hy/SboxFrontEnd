<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Page Title</title>

</head>

<body>
    <input id="search" type="search" onkeypress="searchPost()" />
    <div id="txt"></div>
    <script>
        var Posts = [];

        fetch('https://jsonplaceholder.typicode.com/posts')
            .then(response => response.json())
            .then(data => {
                for (let index = 0; index < data.length; index++) {
                    Posts.push(data[index]);
                }
            })
            .catch(error => console.log(error));

        function searchPost() {

            setTimeout(function () {
                var keyword = document.getElementById("search").value;
                var count=0;
                var str = "";

                for (let index = 0; index < Posts.length; index++) {
                    var title = Posts[index].title;
                    var body = Posts[index].body;
                    if (title.includes(keyword)||body.includes(keyword)) {
                        str += "<h2>" + Posts[index].title + "</h2><br>" + "<p>" + Posts[index].body + "</p><br>";
                        count++;
                    }
                }
                if (str == "")
                    document.getElementById("txt").innerHTML="<h1>Không có kết quả trả về</h1>";
                else if(str != ""&&count==Posts.length)
                    document.getElementById("txt").innerHTML = "<h1>Tất cả bài viết</h1>"+str;
                else if(str != ""&&count<Posts.length)
                    document.getElementById("txt").innerHTML = "<h1>Đã tìm thấy "+count+" bài viết</h1>"+str;


            }, 300);
        }


    </script>
</body>

</html>